
 @let deductions = (deductions$  | async)!;
    
    @if(deductions){
    
    <h1>Deductions </h1>

    <a href="#" routerLink="/deduction-add-edit">Add Deduction</a>

     &nbsp; &nbsp; &nbsp; &nbsp; 

    <a data-tooltip="Reload" href="#" style="float:right;" (click)="refreshDeductions($event)">Refresh</a>

     <table mat-table [dataSource]="deductions">


         <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let deduction">
               <a data-tooltip="View Details" style="color: black;" [routerLink]="['/deductiondetail', deduction.id]">{{ deduction.name}}</a>
            </td>
        </ng-container> 

         <!-- <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Description</th>
            <td mat-cell *matCellDef="let deduction">
            {{ deduction.description.substring(0, 20)}}
            </td>
        </ng-container>  -->

         <ng-container matColumnDef="deductiontype">
            <th mat-header-cell *matHeaderCellDef>D-Type</th>
            <td mat-cell *matCellDef="let deduction">
            {{ deduction.deductionType.description}}
            </td>
        </ng-container>

        <!-- <ng-container matColumnDef="paymetric">
            <th mat-header-cell *matHeaderCellDef>P-Metric</th>
            <td mat-cell *matCellDef="let deduction">
            {{ deduction.deductionMetric.description}}
            </td>
        </ng-container>

        <ng-container matColumnDef="amount">
            <th mat-header-cell *matHeaderCellDef>Fix Amt</th>
            <td mat-cell *matCellDef="let deduction">
            {{ deduction.amount}}
            </td>
        </ng-container>

        <ng-container matColumnDef="percentage">
            <th mat-header-cell *matHeaderCellDef>Percent</th>
            <td mat-cell *matCellDef="let deduction">
            {{ deduction.percentage}}
            </td>
        </ng-container> -->

        <ng-container matColumnDef="active">
            <th mat-header-cell *matHeaderCellDef>Active</th>
            <td mat-cell *matCellDef="let deduction">
            {{ deduction.active}}
            </td>
        </ng-container>

         

        <ng-container matColumnDef="edit">
         <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let deductions">
            <a data-tooltip="Edit" style="color: black;" [routerLink]="['/deduction-add-edit', deductions.id ]">Edit</a>&nbsp;|
            <a data-tooltip="Delete" href="#" (click) = "onDelete($event, deductions.id)">Delete</a>
         
            <br />
          </td>

      </ng-container> 

       <tr mat-header-row *matHeaderRowDef="columnNames"></tr>
      <tr mat-row *matRowDef="let row; columns: columnNames;"></tr> 

     </table>



    }
