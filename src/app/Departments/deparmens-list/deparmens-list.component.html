
@let departments = (departments$  | async)!;

<h1>Departments</h1>

@if(departments){

 
     <a href="#" routerLink="/departmentadd">Add Department</a>

     &nbsp; &nbsp; &nbsp; &nbsp; 

    <a href="#" style="float:right;" (click)="refreshDepartments($event)">Refresh</a>


    <table mat-table [dataSource]="departments" >

        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let department">
              <a data-tooltip="View Details" style="color: black;" [routerLink]="['/departmentdetail', department.id]"> {{ department.name }}</a>
            </td>
      </ng-container>

        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef>Description</th>
            <td mat-cell *matCellDef="let departments">
            {{ departments.description.substring(0, 20) }}
            </td>
      </ng-container>

      <ng-container matColumnDef="active">
            <th mat-header-cell *matHeaderCellDef>Active</th>
            <td mat-cell *matCellDef="let departments">
            {{ departments.active }}
            </td>
      </ng-container>

       <ng-container matColumnDef="edit">
         <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let department">
            <a data-tooltip="Edit" style="color: black;" [routerLink]="['/departmentedit', department.id ]">Edit</a>&nbsp;|
            <a data-tooltip="Delete" href="#" (click) = "onDelete($event, department.id)">Delete</a>
          </td>

      </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnNames"></tr>
      <tr mat-row *matRowDef="let row; columns: columnNames;"></tr>

    </table>
  

}@else{
    No Departments.
}



